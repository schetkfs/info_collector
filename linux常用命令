文件 / 目 录

ls -lah：列目录（含隐藏、人类可读大小）

cd /path / cd - / cd ~：切换目录 / 上一个目录 / 家目录

pwd：当前路径

mkdir -p dir/sub：递归建目录

touch file：新建/刷新时间戳

cp -r src dst：复制（目录加 -r）

mv src dst：移动/改名

rm file / rm -rf dir：删除（慎用 -rf）

cat file / tac file：正序/倒序打印

nl file：带行号显示

head -n 50 file / tail -n 50 file：看前/后 N 行

tail -f file：实时追踪日志

查看 / 搜索

less file：分页查看（/关键词 搜索）

grep -Rin "kw" /path：递归搜索（行号、忽略大小写）

find /path -name "*.log" -mtime -1：按名/时间找文件

which cmd / whereis cmd：命令路径/相关文件

wc -l file：统计行数

du -sh *：当前各项所占空间

df -h：磁盘使用

权限 / 所有权

chmod 644 file / chmod +x script.sh：改权限/加可执行

chown user:group file：改属主属组

umask 022：默认权限掩码

文本处理（管道常用）

sort file | uniq -c | sort -nr：去重计数并倒序

cut -d',' -f1,3 file.csv：按分隔符取列

awk -F, '{print $1,$3}' file.csv：取列/做计算

sed -n '1,50p' file：打印 1–50 行

tr -d '\r' < a > b：删除回车（修 CRLF）

xargs -I{} cmd {}：批量执行

tee out.txt：边看边写文件

压缩 / 归档

tar -czf a.tar.gz dir/：打包压缩

tar -xzf a.tar.gz：解包

zip -r a.zip dir/ / unzip a.zip：zip 压缩/解压

进程 / 服务

ps aux | grep kw：查进程

top / htop：进程监控（htop 更友好）

kill -9 PID / pkill -f kw：杀进程/按关键字

systemctl status|start|stop|restart name：systemd 服务管理

journalctl -u name -f：看服务实时日志

crontab -e / crontab -l：编辑/查看计划任务

系统信息 / 资源

uname -a：内核信息

lsb_release -a / cat /etc/os-release：发行版

uptime：运行时长与负载

free -h：内存

vmstat 1 / iostat -x 1：CPU/IO 监控（需安装 sysstat）

lscpu / lsblk：CPU / 块设备

dmesg -T | tail：内核日志

网络

ip a / ip r：网卡与路由

ss -tulpn：监听端口（替代 netstat）

ping -c 4 host：连通性

curl -I https://example.com：看响应头

curl -fsSL URL | bash：脚本一键安装（需信任源）

scp file user@host:/path：拷贝到远端

rsync -avP src/ user@host:/path/：增量同步

磁盘 / 文件系统

mount / umount /dev/sdX1：挂载/卸载

lsblk -f：设备与文件系统

blkid：查看 UUID

fdisk -l / parted -l：分区信息

用户 / 组

id / whoami：当前用户信息

adduser name / userdel -r name：加/删用户

usermod -aG sudo name：加 sudo 权限

passwd name：改密码

visudo：安全编辑 sudoers

包管理

Debian/Ubuntu：

apt update && apt upgrade -y

apt install pkg / apt remove pkg / apt purge pkg

apt search kw / apt show pkg

CentOS/RHEL：yum/dnf install|remove|update

Arch：pacman -Syu / pacman -S pkg

SSH / 密钥

ssh user@host -p 22：登录

ssh-copy-id user@host：部署公钥

ssh -i key.pem user@host：指定私钥

ssh-agent bash && ssh-add ~/.ssh/id_rsa：加载密钥

时间 / 时区

date / timedatectl：查看

timedatectl set-timezone Asia/Shanghai：改时区

ntpq -p / chronyc sources -v：NTP 同步

权限与安全常见操作

sudo visudo：配置最小权限 sudo

ufw allow 22,80,443/tcp；ufw enable：简单防火墙

fail2ban-client status：SSH 暴力破解防护（需安装）

故障排查小技巧

history | tail -50：看最近命令

echo $PATH：环境变量路径

type cmd：命令来自哪里（内建/别名/文件）

dos2unix script.sh 或 sed -i 's/\r$//' script.sh：修复 CRLF

strace -f -o trace.log cmd：系统调用跟踪（高级）
